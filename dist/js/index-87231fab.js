import{d as s,Q as a,s as o,k as i,Z as e,I as t,o as l,c as n,J as r,u as d,F as u,A as c,H as m,R as p,a1 as f,l as y}from"./vendor-178c6cbf.js";import{z as g}from"./zb-loadMore-81cb5e35.js";import{z as h}from"./zb-empty-147831cd.js";import{u as v,i as b,_ as z}from"./index-72685b17.js";import{u as L}from"./useInfiniteScroll-c83ba412.js";import"./zb-loading-f402cb15.js";const j={class:"photo-container"},_=["infinite-scroll-disabled"],k={alt:""},M=z(s({__name:"index",setup(s){const z=a(),M=z.query.id;z.query.album;const{album:x}=v(),{photoList:I,photoTotal:q}=o(x),{isLoading:A,loadMore:w}=L((async s=>await x.getPhotoList(Number(M),s,21))),C=i((()=>q.value<=I.value.length));return e((async()=>{w()})),(s,a)=>{const o=h,i=g,e=t("lazy"),v=f;return l(),n("div",j,[r((l(),n("div",{class:"photo-list","infinite-scroll-disabled":C.value,"infinite-scroll-delay":600},[(l(!0),n(u,null,c(d(I),(s=>(l(),n("div",{class:"img",key:s.id},[r(y("img",k,null,512),[[e,d(b)(s.photo_url)]])])))),128))],8,_)),[[v,d(w)]]),0===d(I).length?(l(),m(o,{key:0,height:400})):p("",!0),C.value?p("",!0):(l(),m(i,{key:1,isLoading:d(A),direction:"center",isLoadMore:!C.value},null,8,["isLoading","isLoadMore"]))])}}}),[["__scopeId","data-v-ffd3946e"]]);export{M as default};
