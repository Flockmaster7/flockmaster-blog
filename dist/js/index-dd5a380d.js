import{d as a,o as s,c as l,l as e,n as i,u,w as n,s as o,z as t,h as m,k as d,Z as r,J as b,F as c,A as v,H as p,R as _,a as g,a1 as f}from"./vendor-178c6cbf.js";import{z as y}from"./zb-empty-147831cd.js";import{i as h,_ as k,u as z}from"./index-72685b17.js";import{z as L}from"./zb-loadMore-81cb5e35.js";import"./zb-loading-f402cb15.js";const j={class:"album-item"},I={class:"title"},x=k(a({__name:"albumItem",props:{album:{}},setup:a=>(a,o)=>(s(),l("div",j,[e("div",{class:"img",style:i({backgroundImage:`url(${u(h)(a.album.album_cover)})`})},null,4),e("span",I,n(a.album.album_name),1)]))}),[["__scopeId","data-v-805d85f5"]]),A={class:"album-container"},M=["infinite-scroll-disabled"],$=["onClick"],w=k(a({__name:"index",setup(a){const{album:e}=z(),{albumList:i,albumTotal:n}=o(e),h=t(),k=m(1),j=m(!1),I=d((()=>n.value<=i.value.length)),w=async()=>{j.value=!0;await e.getAlbumList(k.value,12)&&(j.value=!1,k.value+=1)};return r((async()=>{w()})),(a,e)=>{const n=y,o=f;return s(),l("div",A,[b((s(),l("div",{class:"album-content","infinite-scroll-disabled":I.value,"infinite-scroll-delay":600},[(s(!0),l(c,null,v(u(i),(a=>(s(),l("div",{key:a.id,onClick:s=>(a=>{h.push(`/photo?id=${a.id}&album=${a.album_name}`)})(a)},[g(x,{album:a},null,8,["album"])],8,$)))),128))],8,M)),[[o,w]]),!I.value&&u(i).length>0?(s(),p(L,{key:0,isLoading:j.value,isLoadMore:!I.value},null,8,["isLoading","isLoadMore"])):_("",!0),0===u(i).length?(s(),p(n,{key:1,height:500})):_("",!0)])}}}),[["__scopeId","data-v-3d085f43"]]);export{w as default};
