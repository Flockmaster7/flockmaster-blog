import{z as i}from"./zb-empty-147831cd.js";import{_ as e,a,u as s,i as n}from"./index-72685b17.js";import{d as r,o as c,c as l,H as t,F as d,A as o,M as u,l as p,a as m,$ as v,w as z,B as F,s as _,h as g,u as y,R as D,E as I}from"./vendor-178c6cbf.js";import{_ as f}from"./top-48b6b4c8.js";import{_ as k}from"./zb-time-3ead2a7c.js";import"./dayFormat-c374a561.js";const h={class:"imgList-container"},w=e(r({__name:"imgList",props:{urls:{}},setup:i=>(i,e)=>{const a=u;return c(),l("div",h,[1===i.urls.length?(c(),t(a,{key:0,class:"singleImg",src:i.urls[0],"preview-src-list":i.urls,"hide-on-click-modal":!0,"preview-teleported":!0,alt:""},null,8,["src","preview-src-list"])):(c(!0),l(d,{key:1},o(i.urls,((e,s)=>(c(),t(a,{class:"multiImg",src:e,"preview-src-list":i.urls,"initial-index":s,"hide-on-click-modal":!0,"preview-teleported":!0,key:s},null,8,["src","preview-src-list","initial-index"])))),128))])}}),[["__scopeId","data-v-00665bef"]]),C={class:"videoList-container"},L=["src"],j=["src"],x=e(r({__name:"videoList",props:{urls:{}},setup:i=>(i,e)=>(c(),l("div",C,[p("video",{src:i.urls[0],controls:"",loop:""},[p("source",{src:i.urls[0],type:"video/mp4"},null,8,j)],8,L)]))}),[["__scopeId","data-v-97a8e578"]]),b={class:"operator-container"},A=e(r({__name:"operator",props:{circleFriendId:{},dianzanCount:{},isDianzan:{type:Boolean}},emits:["dianzan","cancelDianzan"],setup(i,{emit:e}){const s=i,n=e,r=()=>{s.isDianzan?d():t()},t=()=>{n("dianzan",s.circleFriendId)},d=()=>{n("cancelDianzan",s.circleFriendId)};return(i,e)=>{const s=a;return c(),l("div",b,[p("div",{class:F({dianzan:!0,active:i.isDianzan}),onClick:r},[m(s,{name:"like",size:18,color:i.isDianzan?"#5cbfef":""},null,8,["color"]),v(" "+z(i.dianzanCount),1)],2)])}}}),[["__scopeId","data-v-a14af5d8"]]),B={class:"circleFriendItem-container"},E={class:"left"},H=["src"],M={class:"right"},R={class:"top"},U={class:"name"},$={key:0,src:f},q={class:"center"},G={class:"text"},J={key:0,class:"img"},K={key:1,class:"video"},N=e(r({__name:"circleFriendItem",props:{cirFriend:{}},setup(i){const e=i,{circleFriend:a}=s(),{userDianzanList:r}=_(a),t=g(e.cirFriend.dianzanCount),d=e.cirFriend.videos.map((i=>i.video_url)),o=e.cirFriend.images.map((i=>i.image_url)),u=async i=>{await a.dianzan(i)&&(r.value.push(i),t.value+=1,I.success("感谢支持！"))},v=async i=>{await a.cancelDianzan(i)&&(r.value=r.value.filter((e=>e!==i)),t.value-=1)};return(i,e)=>(c(),l("div",B,[p("div",E,[p("img",{src:y(n)(i.cirFriend.user.user_image),alt:""},null,8,H)]),p("div",M,[p("div",R,[p("div",null,[p("div",U,z(i.cirFriend.user.name),1),m(k,{time:i.cirFriend.createdAt},null,8,["time"])]),i.cirFriend.top?(c(),l("img",$)):D("",!0)]),p("div",q,[p("div",G,z(i.cirFriend.content),1),0!==y(o).length?(c(),l("div",J,[m(w,{urls:y(o)},null,8,["urls"])])):D("",!0),0!==y(d).length?(c(),l("div",K,[m(x,{urls:y(d)},null,8,["urls"])])):D("",!0)]),m(A,{isDianzan:y(r).includes(i.cirFriend.id),dianzanCount:t.value,circleFriendId:i.cirFriend.id,onDianzan:u,onCancelDianzan:v},null,8,["isDianzan","dianzanCount","circleFriendId"])])]))}}),[["__scopeId","data-v-3b941f94"]]),O={class:"circleFriend-container"},P=e(r({__name:"index",setup(e){const{circleFriend:a}=s(),{circleFriendList:n}=_(a);return a.getList(1,9),a.getUserDianzan(),(e,a)=>{const s=i;return c(),l("div",O,[(c(!0),l(d,null,o(y(n),(i=>(c(),t(N,{cirFriend:i,key:i.id},null,8,["cirFriend"])))),128)),0===y(n).length?(c(),t(s,{key:0,height:500})):D("",!0)])}}}),[["__scopeId","data-v-a864e4a0"]]);export{P as default};
